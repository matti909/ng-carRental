
<ng-container *ngIf="valueChanges$ | async"></ng-container>

<mat-card>
  <mat-card-title>Create a New Car</mat-card-title>
  <mat-card-content>

    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <mat-form-field appearance="fill">
        <mat-label>Brand</mat-label>
        <input matInput formControlName="brand" required/>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Make</mat-label>
        <input matInput formControlName="make" required/>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Year</mat-label>
        <input matInput formControlName="year" required/>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>KM</mat-label>
        <input matInput formControlName="km" required/>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>CM3</mat-label>
        <input matInput formControlName="cm3" />
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Price</mat-label>
        <input matInput formControlName="price" />
      </mat-form-field>

      <button type="button" mat-raised-button (click)="fileInput.click()">Choose File</button>
      <input hidden (change)="onFileSelected($event)" #fileInput type="file">
      <span class="file-name">{{selectedFile?.name}}</span>

      <button type="submit" mat-raised-button color="primary">Save</button>

    </form>
  </mat-card-content>
</mat-card>